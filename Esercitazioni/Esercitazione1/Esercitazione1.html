<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>

	<title>Esercitazione PFP del 2 marzo 2020 - Programmazione Funzionale e Parallela</title>
	
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="Programmazione funzionale, programmazione parallela, linguaggio Scala, multicore">
	<meta name="description" content="">
	<link rel="stylesheet" type="text/css" href="Esercitazion1_files/css_sapienza.css">
	<link rel="stylesheet" type="text/css" href="Esercitazion1_files/css_print.css" media="print">
	<link rel="icon" href="https://season-lab.github.io/PFP/assets/images/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="https://season-lab.github.io/PFP/assets/images/favicon.ico" type="image/x-icon">

	<link rel="stylesheet" href="Esercitazion1_files/default.css">
	<script type="text/javascript" src="Esercitazion1_files/highlight.js"></script>
	<script type="text/javascript">
		hljs.initHighlightingOnLoad();
	</script>

</head>

<body>
<div class="header">

<h2>Programmazione Funzionale e Parallela</h2>

<h3>Corso di Laurea in Ingegneria Informatica e Automatica - A.A. 2019-2020</h3>

	<a href="https://season-lab.github.io/PFP/">Home</a> |
	<a href="https://season-lab.github.io/PFP/Avvisi">Avvisi</a> | 
	<a href="https://season-lab.github.io/PFP/DiarioLezioni">Diario lezioni</a> |  
	<a href="https://season-lab.github.io/PFP/Esercitazioni">Esercitazioni</a> |  
	<a href="https://season-lab.github.io/PFP/MaterialeDidattico">Materiale didattico</a> | 
	<a href="https://season-lab.github.io/PFP/Esami">Esami</a> | 
	<a href="https://season-lab.github.io/PFP/ValutazioniStudenti">Valutazioni studenti</a> <!-- | 
	<a href="/PFP/Forum">Forum</a> -->
 	
</div>

<!--starting page content-->
<div class="page">

<h4 id="t01-esercitazione-pfp-del-2-marzo-2020">[T01] Esercitazione PFP del 2 marzo 2020</h4>

<h5 id="istruzioni-per-lesercitazione">Istruzioni per l’esercitazione:</h5>

<ul>
  <li>Aprite il <a href="https://forms.gle/WEQ5oJ1BjnjmaTwU8">form di consegna</a> in un browser e loggatevi con le vostre credenziali <code class="language-plaintext highlighter-rouge">uniroma1</code>.</li>
  <li>Scaricate e decomprimete sulla scrivania il <a href="https://season-lab.github.io/PFP/training/labs/T01-200302.zip">codice dell’esercitazione</a>. Vi sarà una sotto-directory separata per ciascun esercizio di programmazione. 
Non modificate in alcun modo i programmi di test <code class="language-plaintext highlighter-rouge">E*Main.scala</code>.</li>
  <li>Rinominare la directory chiamandola <code class="language-plaintext highlighter-rouge">cognome.nome</code>. Sulle postazioni del laboratorio sarà <code class="language-plaintext highlighter-rouge">/home/studente/Desktop/cognome.nome/</code>.</li>
  <li>È possibile consultare appunti/libri e il materiale didattico online.</li>
  <li>Rispondete alle domande online sul modulo di consegna.</li>
  <li><strong>Finiti gli esercizi</strong>, e non più tardi della fine della lezione:
    <ul>
      <li><strong>zippate la directory di lavoro</strong> in <code class="language-plaintext highlighter-rouge">cognome.nome.zip</code> (<code class="language-plaintext highlighter-rouge">zip -r cognome.nome.zip cognome.nome/</code>).</li>
    </ul>
  </li>
  <li><strong>Per consegnare</strong>:
    <ul>
      <li>inserite nel form di consegna come autovalutazione il 
punteggio di ciascuno dei test forniti (inserite zero se l’esercizio non
 è stato svolto, non compila, o dà errore di esecuzione).</li>
      <li>fate <strong>upload</strong> del file <code class="language-plaintext highlighter-rouge">cognome.nome.zip</code>.</li>
      <li><strong>importante</strong>: fate logout dal vostro account Google!</li>
    </ul>
  </li>
  <li><strong>Prima di uscire</strong>:
    <ul>
      <li>eliminate dal desktop la directory creata (<code class="language-plaintext highlighter-rouge">rm -rf cognome.nome</code>).</li>
      <li>firmate il <strong>foglio presenze</strong>.</li>
      <li>rimettete a posto eventuali <strong>sedie</strong> prese all’ingresso dell’aula!</li>
    </ul>
  </li>
</ul>

<h5 id="esercizio-1-somma-primi-n-numeri-con-ricorsione-di-coda">Esercizio 1 (somma primi n numeri con ricorsione di coda)</h5>

<p>Si modifichi la realizzazione del seguente metodo <code class="language-plaintext highlighter-rouge">sum</code> che calcola la somma dei primi n numeri in modo che esibisca ricorsione di coda:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code class="hljs scala"><span class="k"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class"> </span><span class="o">{</span>
    <span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="o">(</span><span class="n">n</span><span class="k">:</span><span class="kt"><span class="hljs-type">Int</span></span><span class="o">)</span><span class="k">:</span><span class="kt"><span class="hljs-type">Int</span></span> <span class="o">=</span> <span class="nf"><span class="hljs-keyword">if</span></span> <span class="o">(</span><span class="n">n</span><span class="o">&lt;</span><span class="mi"><span class="hljs-number">1</span></span><span class="o">)</span> <span class="mi"><span class="hljs-number">0</span></span> <span class="k"><span class="hljs-keyword">else</span></span> <span class="n">n</span><span class="o">+</span><span class="nf">sum</span><span class="o">(</span><span class="n">n</span><span class="o"><span class="hljs-number">-</span></span><span class="mi"><span class="hljs-number">1</span></span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Scrivere la soluzione nel file <code class="language-plaintext highlighter-rouge">E1.scala</code> in modo simile a quanto fatto negli esercizi precedenti e usare il programma di prova <code class="language-plaintext highlighter-rouge">E1Main.scala</code> fornito.</p>

<p>Si verifichi che la realizzazione è effettivamente con ricorsione di coda usando l’annotazione del compilatore <code class="language-plaintext highlighter-rouge">@scala.annotation.tailrec</code> (si veda la <a href="https://docs.google.com/document/d/1M1EtsCXsbIdqXLAF4dxy2ppLIBeX5Y3gdany-MYx_9A/edit#">dispensa</a>).</p>

<p>Per compilare da riga di comando usare: <code class="language-plaintext highlighter-rouge">scalac E1Main.scala E1.scala</code>. Si noti che sulla riga di comando ci sono entrambi i file che compongono il programma. Noterete la presenza di vari file <code class="language-plaintext highlighter-rouge">.class</code> generati dalla compilazione. Non serve eliminarli prima di consegnare il compito.</p>

<p>Per eseguire il programma da riga di comando usare: <code class="language-plaintext highlighter-rouge">scala E1Main</code>. Si noti che, come in Java, al comando <code class="language-plaintext highlighter-rouge">scala</code> viene passato il nome della classe (come vedremo, <code class="language-plaintext highlighter-rouge">object</code> denota una classe in cui tutti i metodi/variabili sono statici) da cui parte il programma.</p>

<h5 id="esercizio-2-massimo-comun-divisore">Esercizio 2 (massimo comun divisore)</h5>

<p>Si scriva un metodo Scala <code class="language-plaintext highlighter-rouge">mcd</code> che calcola il massimo comun divisore (MCD) di due numeri interi. Usare la seguente definizione ricorsiva:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code class="hljs">MCD(x,y)=x, se y=0
MCD(x,y)=MCD(y, resto della divisione di x per y) altrimenti
</code></pre></div></div>

<p>Compilare ed eseguire come visto nell’Esercizio 1. Scrivere la soluzione nel file <code class="language-plaintext highlighter-rouge">E2.scala</code> in modo simile a quanto fatto negli esercizi precedenti e usare il programma di prova <code class="language-plaintext highlighter-rouge">E2Main.scala</code> fornito.</p>

<h5 id="esercizio-3-somma-dei-quadrati">Esercizio 3 (somma dei quadrati)</h5>

<p>Si scriva un metodo Scala <code class="language-plaintext highlighter-rouge">sommaQuadrati</code> che, dati due interi <code class="language-plaintext highlighter-rouge">x</code> e <code class="language-plaintext highlighter-rouge">y</code> con <code class="language-plaintext highlighter-rouge">x&lt;=y</code>, calcola la somma dei quadrati dei numeri da <code class="language-plaintext highlighter-rouge">x</code> a <code class="language-plaintext highlighter-rouge">y</code>, compresi. Scrivere la soluzione nel file <code class="language-plaintext highlighter-rouge">E3.scala</code> in modo simile a quanto fatto negli esercizi precedenti e usare il programma di prova <code class="language-plaintext highlighter-rouge">E3Main.scala</code> fornito.</p>

<h5 id="esercizio-4-uguaglianza-parziale-di-funzioni">Esercizio 4 (uguaglianza parziale di funzioni)</h5>

<p>Scrivere una funzione Scala che, date due funzioni <code class="language-plaintext highlighter-rouge">f1:Int=&gt;Int</code> e <code class="language-plaintext highlighter-rouge">f2:Int=&gt;Int</code> e un intero <code class="language-plaintext highlighter-rouge">n</code>, verifica che <code class="language-plaintext highlighter-rouge">f1</code> e <code class="language-plaintext highlighter-rouge">f2</code> calcolino lo stesso valore su ogni input compreso tra <code class="language-plaintext highlighter-rouge">0</code> e <code class="language-plaintext highlighter-rouge">n</code> (inclusi). La funzione deve restituire un <code class="language-plaintext highlighter-rouge">Boolean</code>. Scrivere la soluzione nel file <code class="language-plaintext highlighter-rouge">E4.scala</code> in modo simile a quanto fatto negli esercizi precedenti e usare il programma di prova <code class="language-plaintext highlighter-rouge">E4Main.scala</code> fornito.</p>

<h5 id="esercizio-5-somma-di-fx">Esercizio 5 (somma di f(x))</h5>

<p>Scrivere un metodo Scala <code class="language-plaintext highlighter-rouge">somma</code> che, dato come parametro una funzione <code class="language-plaintext highlighter-rouge">f:Int=&gt;Int</code>, restituisce una funzione che prende come parametri due interi <code class="language-plaintext highlighter-rouge">a</code> e <code class="language-plaintext highlighter-rouge">b</code> e restituisce la somma di <code class="language-plaintext highlighter-rouge">f(x)</code> per ogni <code class="language-plaintext highlighter-rouge">x</code> compreso tra <code class="language-plaintext highlighter-rouge">a</code> e <code class="language-plaintext highlighter-rouge">b</code> (estremi inclusi). Scrivere la soluzione nel file <code class="language-plaintext highlighter-rouge">E5.scala</code> in modo simile a quanto fatto negli esercizi precedenti e usare il programma di prova <code class="language-plaintext highlighter-rouge">E5Main.scala</code> fornito.</p>

<p>Suggerimento. Usare il seguente schema nella soluzione:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code class="hljs scala"><span class="k"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">E5</span></span></span><span class="hljs-class"> </span><span class="o">{</span>
    <span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">somma</span></span></span><span class="o">(...)</span> <span class="k">=</span> <span class="o">{</span>
        <span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">funzioneDaRestituire</span></span></span><span class="o">(...)</span> <span class="o">...</span> <span class="k">=</span> <span class="o">...</span> <span class="c1"><span class="hljs-comment">// metodo definito localmente (ispirarsi all'esercizio 3)</span>
</span>        <span class="n">funzioneDaRestituire</span> <span class="k">_</span>              <span class="c1"><span class="hljs-comment">// restituisce metodo locale convertito a funzione con _ </span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<!--
##### Soluzioni

In questa parte di corso, non usare costrutti imperativi in Scala:
* `if` senza `else`
* uso di `var` invece di `val`
* cicli `while`, ecc.

```scala
object E2 {
    def mcd(x:Int, y:Int):Int = if (y == 0) x else mcd(y, x % y)
}
```

```scala
object E3 {
    def sommaQuadrati(x:Int, y:Int):Int = if (x>y) 0 else x*x + sommaQuadrati(x+1, y)
}
```

```scala
object E4 {
    def ugualiIn(f1:Int=>Int, f2:Int=>Int, n:Int):Boolean =
        if (n < 0) true
        else if (f1(n) != f2(n)) false
        else ugualiIn(f1, f2, n-1)
}
```

```scala
object E5 {
    def somma(f:Int=>Int) = {
        def sommaFunzione(x:Int, y:Int):Int = if (x>y) 0 else f(x) + sommaFunzione(x+1, y)
        sommaFunzione _ 
    }
}
```

-->



</div>
<!--closing page content-->

<p style="text-align: center;">
	<a href="https://validator.w3.org/check/referrer">
		<img src="Esercitazion1_files/valid-xhtml10.png" alt="Valid XHTML 1.0 Transitional" width="88" height="31">
	</a>&nbsp;&nbsp;&nbsp;
    <a href="https://jigsaw.w3.org/css-validator/check/referer">
        <img style="border:0;width:88px;height:31px" src="Esercitazion1_files/vcss.gif" alt="Valid CSS!">
    </a>
</p>

<script type="text/javascript">
	//<![CDATA[
	var cusid_ele = document.getElementsByClassName('language-scala');
	for (var i = 0; i < cusid_ele.length; ++i) {
	    var elem = cusid_ele[i].getElementsByTagName("code")[0];
		elem.className = "hljs scala";
	}
	var cusid_ele = document.getElementsByClassName('language-cpp');
	for (var i = 0; i < cusid_ele.length; ++i) {
	    var elem = cusid_ele[i].getElementsByTagName("code")[0];
		elem.className = "hljs cpp";
	}
	//]]>
</script>



</body></html>